standard_links <- data.frame(links = c('https://theacc.com/stats.aspx?path=baseball&year=2023#individual'),
schema = c('FirstName','LastName'),
separator = c(' '))
ncaa_bat_stats = data.frame()
ncaa_pit_stats = data.frame()
for (i in 1:nrow(standard_links)) {
page <- read_html(standard_links[i,1])
stats_bat <- page %>%
html_node('#ind_hitting') %>%
html_element("table") %>%
html_table()
stats_pit <- page %>%
html_node('#ind_pitching') %>%
html_element("table") %>%
html_table()
bat_df <- data.frame(stats_bat)
pit_df <- data.frame(stats_pit)
ncaa_bat_stats <<- rbind(ncaa_bat_stats,bat_df,use.names=TRUE,fill=TRUE)
ncaa_pit_stats <<- rbind(ncaa_pit_stats,pit_df,use.names=TRUE,fill=TRUE)
print(i)
}
View(standard_links)
standard_links <- data.frame(links = c('https://theacc.com/stats.aspx?path=baseball&year=2023#individual'),
schema = c(c('FirstName','LastName')),
separator = c(' '))
View(standard_links)
standard_links <- data.frame(links = c('https://theacc.com/stats.aspx?path=baseball&year=2023#individual'),
schema = c(c('FirstName','LastName')),
separator = c(' '))
View(standard_links)
standard_links <- data.frame(links = c('https://theacc.com/stats.aspx?path=baseball&year=2023#individual'),
schema = c('FirstLast'),
separator = c(' '))
View(standard_links)
ncaa_bat_stats = data.frame()
ncaa_pit_stats = data.frame()
for (i in 1:nrow(standard_links)) {
page <- read_html(standard_links[i,1])
stats_bat <- page %>%
html_node('#ind_hitting') %>%
html_element("table") %>%
html_table()
stats_pit <- page %>%
html_node('#ind_pitching') %>%
html_element("table") %>%
html_table()
bat_df <- data.frame(stats_bat)
pit_df <- data.frame(stats_pit)
ncaa_bat_stats <<- rbind(ncaa_bat_stats,bat_df,use.names=TRUE,fill=TRUE)
ncaa_pit_stats <<- rbind(ncaa_pit_stats,pit_df,use.names=TRUE,fill=TRUE)
print(i)
}
View(ncaa_bat_stats)
for (i in 1:nrow(standard_links)) {
page <- read_html(standard_links[i,1])
stats_bat <- page %>%
html_node('#ind_hitting') %>%
html_element("table") %>%
html_table()
stats_pit <- page %>%
html_node('#ind_pitching') %>%
html_element("table") %>%
html_table()
bat_df <- data.frame(stats_bat)
pit_df <- data.frame(stats_pit)
bat_df$player_schema_type <- standard_links[i,2]
bat_df$player_schema_separator <- standard_links[i,3]
pit_df$player_schema_type <- standard_links[i,2]
pit_df$player_schema_separator <- standard_links[i,3]
ncaa_bat_stats <<- rbind(ncaa_bat_stats,bat_df,use.names=TRUE,fill=TRUE)
ncaa_pit_stats <<- rbind(ncaa_pit_stats,pit_df,use.names=TRUE,fill=TRUE)
print(i)
}
ncaa_bat_stats = data.frame()
ncaa_pit_stats = data.frame()
for (i in 1:nrow(standard_links)) {
page <- read_html(standard_links[i,1])
stats_bat <- page %>%
html_node('#ind_hitting') %>%
html_element("table") %>%
html_table()
stats_pit <- page %>%
html_node('#ind_pitching') %>%
html_element("table") %>%
html_table()
bat_df <- data.frame(stats_bat)
pit_df <- data.frame(stats_pit)
bat_df$player_schema_type <- standard_links[i,2]
bat_df$player_schema_separator <- standard_links[i,3]
pit_df$player_schema_type <- standard_links[i,2]
pit_df$player_schema_separator <- standard_links[i,3]
ncaa_bat_stats <<- rbind(ncaa_bat_stats,bat_df,use.names=TRUE,fill=TRUE)
ncaa_pit_stats <<- rbind(ncaa_pit_stats,pit_df,use.names=TRUE,fill=TRUE)
print(i)
}
View(ncaa_bat_stats)
ncaa_bat_copy <- ncaa_bat_stats
View(ncaa_bat_copy)
ncaa_player_vec <- c()
ncaa_team_vec <- c()
for (player in ncaa_bat_copy$Player) {
player_and_team <- strsplit(player, '[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
ncaa_player <- str_replace_all(str_sub(str_replace(player_pre_clean,"\\s+", ","),end=-2),",,",",")
#ncaa_player <- str_sub(str_replace_all(str_replace_all(player_pre_clean," ",","),",,",","),end=-2)
ncaa_player_vec <<- append(ncaa_player_vec,ncaa_player)
ncaa_team_vec <<- append(ncaa_team_vec,team)
}
ncaa_bat_copy$Player = ncaa_player_vec
ncaa_bat_copy$Team = ncaa_team_vec
ncaa_bat_clean <- ncaa_bat_copy %>%
filter(Player != "TRU")
for (player in ncaa_bat_copy$Player) {
player_and_team <- strsplit(player, '[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(ncaa_bat_copy[player,1])
ncaa_player <- str_replace_all(str_sub(str_replace(player_pre_clean,"\\s+", ","),end=-2),",,",",")
#ncaa_player <- str_sub(str_replace_all(str_replace_all(player_pre_clean," ",","),",,",","),end=-2)
ncaa_player_vec <<- append(ncaa_player_vec,ncaa_player)
ncaa_team_vec <<- append(ncaa_team_vec,team)
}
View(ncaa_bat_copy)
ncaa_player_vec <- c()
ncaa_player_fname <- c()
ncaa_player_lname <- c()
ncaa_team_vec <- c()
for (player in ncaa_bat_copy$Player) {
player_and_team <- strsplit(player, '[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(ncaa_bat_copy[player,1])
ncaa_player <- str_replace_all(str_sub(str_replace(player_pre_clean,"\\s+", ","),end=-2),",,",",")
#ncaa_player <- str_sub(str_replace_all(str_replace_all(player_pre_clean," ",","),",,",","),end=-2)
ncaa_player_vec <<- append(ncaa_player_vec,ncaa_player)
ncaa_team_vec <<- append(ncaa_team_vec,team)
}
for (player in ncaa_bat_copy$Player) {
player_and_team <- strsplit(player, '[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(ncaa_bat_copy[player,"player_schema_type"])
ncaa_player <- str_replace_all(str_sub(str_replace(player_pre_clean,"\\s+", ","),end=-2),",,",",")
#ncaa_player <- str_sub(str_replace_all(str_replace_all(player_pre_clean," ",","),",,",","),end=-2)
ncaa_player_vec <<- append(ncaa_player_vec,ncaa_player)
ncaa_team_vec <<- append(ncaa_team_vec,team)
}
for (player in ncaa_bat_copy$Player) {
player_and_team <- strsplit(player, '[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(ncaa_bat_copy[player,20])
ncaa_player <- str_replace_all(str_sub(str_replace(player_pre_clean,"\\s+", ","),end=-2),",,",",")
#ncaa_player <- str_sub(str_replace_all(str_replace_all(player_pre_clean," ",","),",,",","),end=-2)
ncaa_player_vec <<- append(ncaa_player_vec,ncaa_player)
ncaa_team_vec <<- append(ncaa_team_vec,team)
}
print(player)
for (player in ncaa_bat_copy$Player) {
player_and_team <- strsplit(player, '[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(player)
ncaa_player <- str_replace_all(str_sub(str_replace(player_pre_clean,"\\s+", ","),end=-2),",,",",")
#ncaa_player <- str_sub(str_replace_all(str_replace_all(player_pre_clean," ",","),",,",","),end=-2)
ncaa_player_vec <<- append(ncaa_player_vec,ncaa_player)
ncaa_team_vec <<- append(ncaa_team_vec,team)
}
for (j in 1:nrow(ncaa_bat_copy)){
testing <- j$Player
print(testing)
}
for (j in 1:nrow(ncaa_bat_copy)){
testing <- ncaa$Player[j]
print(testing)
}
for (j in 1:nrow(ncaa_bat_copy)){
testing <- ncaa_bat_copy$Player[j]
print(testing)
}
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- ncaa_bat_copy$Player[j]
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
if (ncaa_bat_copy$player_schema_type = 'FirstLast') {
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- ncaa_bat_copy$Player[j]
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
if (ncaa_bat_copy$player_schema_type[j] == 'FirstLast') {
ncaa_player <- str_replace_all(str_sub(str_replace(player_pre_clean,"\\s+", ","),end=-2),",,",",")
print(ncaa_player)
}
}
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- ncaa_bat_copy$Player[j]
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
if (ncaa_bat_copy$player_schema_type[j] == 'FirstLast') {
ncaa_player <- str_replace_all(str_sub(str_replace(player_pre_clean,"\\s+", ","),end=-2),",,",",")
player_name_split <- strsplit(ncaa_player, ',')
print(player_name_split)
}
}
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- ncaa_bat_copy$Player[j]
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
if (ncaa_bat_copy$player_schema_type[j] == 'FirstLast') {
ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
player_name_split <- strsplit(ncaa_player, ',')
print(player_name_split)
}
}
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- ncaa_bat_copy$Player[j]
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
if (grepl(ncaa_bat_copy$player_schema_type[j],",")==TRUE) {
print("LastFirst")
Else("FirstLast")
#ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
#player_name_split <- strsplit(ncaa_player, ',')
#print(player_name_split)
}
}
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- ncaa_bat_copy$Player[j]
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(ncaa_bat_copy)
if (grepl(player_pre_clean,",")==TRUE) {
print("LastFirst")
#ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
#player_name_split <- strsplit(ncaa_player, ',')
#print(player_name_split)
}
else {
print("FirstLast")
}
}
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- ncaa_bat_copy$Player[j]
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
#print(ncaa_bat_copy)
if (grepl(player_pre_clean,",")==TRUE) {
print("LastFirst")
#ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
#player_name_split <- strsplit(ncaa_player, ',')
#print(player_name_split)
}
else {
print("FirstLast")
}
}
View(ncaa_bat_stats)
ncaa_bat_copy <- ncaa_bat_stats
View(ncaa_bat_copy)
ncaa_player_vec <- c()
ncaa_player_fname <- c()
ncaa_player_lname <- c()
ncaa_team_vec <- c()
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- ncaa_bat_copy$Player[j]
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
#print(ncaa_bat_copy)
if (grepl(player_pre_clean,",")==TRUE) {
print("LastFirst")
#ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
#player_name_split <- strsplit(ncaa_player, ',')
#print(player_name_split)
}
else {
print("FirstLast")
}
}
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- ncaa_bat_copy$Player[j]
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(player_pre_clean)
#print(ncaa_bat_copy)
#if (grepl(player_pre_clean,",")==TRUE) {
#  print("LastFirst")
#ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
#player_name_split <- strsplit(ncaa_player, ',')
#print(player_name_split)
#}
#else {
#  print("FirstLast")
#}
}
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- strsplit(ncaa_bat_copy$Player[j],'[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(player_pre_clean)
#print(ncaa_bat_copy)
#if (grepl(player_pre_clean,",")==TRUE) {
#  print("LastFirst")
#ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
#player_name_split <- strsplit(ncaa_player, ',')
#print(player_name_split)
#}
#else {
#  print("FirstLast")
#}
}
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- strsplit(ncaa_bat_copy$Player[j],'[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(player_pre_clean)
#print(ncaa_bat_copy)
if (grepl(player_pre_clean,",")==TRUE) {
print("LastFirst")
#ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
#player_name_split <- strsplit(ncaa_player, ',')
#print(player_name_split)
}
else {
print("FirstLast")
}
}
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- strsplit(ncaa_bat_copy$Player[j],'[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(player_pre_clean)
#print(ncaa_bat_copy)
if (grepl(",",player_pre_clean)==TRUE) {
print("LastFirst")
#ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
#player_name_split <- strsplit(ncaa_player, ',')
#print(player_name_split)
}
else {
print("FirstLast")
}
}
ncaa_player_vec <- c()
ncaa_player_fname <- c()
ncaa_player_lname <- c()
ncaa_team_vec <- c()
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- strsplit(ncaa_bat_copy$Player[j],'[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(player_pre_clean)
#print(ncaa_bat_copy)
if (grepl(",",player_pre_clean)==TRUE) {
print("LastFirst")
#ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
#player_name_split <- strsplit(ncaa_player, ',')
#print(player_name_split)
}
else {
print("FirstLast")
ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
player_name_split <- strsplit(ncaa_player, ',')
ncaa_player_fname <<- append(ncaa_player_fname,player_name_split[[1]][1])
ncaa_player_lname <<- append(ncaa_player_lname,player_name_split[[1]][2])
}
}
ncaa_player_fname
ncaa_player_lname
x <- "  Some text. "
x
trimws(x)
trimws(x, "l")
trimws(x, "r")
ncaa_player_vec <- c()
ncaa_player_fname <- c()
ncaa_player_lname <- c()
ncaa_team_vec <- c()
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- strsplit(ncaa_bat_copy$Player[j],'[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(player_pre_clean)
#print(ncaa_bat_copy)
if (grepl(",",player_pre_clean)==TRUE) {
print("LastFirst")
#ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
#player_name_split <- strsplit(ncaa_player, ',')
#print(player_name_split)
}
else {
print("FirstLast")
ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
player_name_split <- strsplit(ncaa_player, ',')
ncaa_player_fname <<- append(ncaa_player_fname,player_name_split[[1]][1])
ncaa_player_lname <<- append(ncaa_player_lname,trimws(player_name_split[[1]][2]))
}
}
ncaa_player_fname
ncaa_player_lname
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- strsplit(ncaa_bat_copy$Player[j],'[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(player_pre_clean)
#print(ncaa_bat_copy)
if (grepl(",",player_pre_clean)==TRUE) {
print("LastFirst")
ncaa_player <- player_pre_clean
player_name_split <- strsplit(ncaa_player, ',')
ncaa_player_fname <<- append(ncaa_player_fname,rimws(player_name_split[[1]][2]))
ncaa_player_lname <<- append(ncaa_player_lname,trimws(player_name_split[[1]][1]))
}
else {
print("FirstLast")
ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
player_name_split <- strsplit(ncaa_player, ',')
ncaa_player_fname <<- append(ncaa_player_fname,player_name_split[[1]][1])
ncaa_player_lname <<- append(ncaa_player_lname,trimws(player_name_split[[1]][2]))
}
}
ncaa_player_vec <- c()
ncaa_player_fname <- c()
ncaa_player_lname <- c()
ncaa_team_vec <- c()
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- strsplit(ncaa_bat_copy$Player[j],'[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
print(player_pre_clean)
#print(ncaa_bat_copy)
if (grepl(",",player_pre_clean)==TRUE) {
print("LastFirst")
ncaa_player <- player_pre_clean
player_name_split <- strsplit(ncaa_player, ',')
ncaa_player_fname <<- append(ncaa_player_fname,trimws(player_name_split[[1]][2]))
ncaa_player_lname <<- append(ncaa_player_lname,trimws(player_name_split[[1]][1]))
}
else {
print("FirstLast")
ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
player_name_split <- strsplit(ncaa_player, ',')
ncaa_player_fname <<- append(ncaa_player_fname,player_name_split[[1]][1])
ncaa_player_lname <<- append(ncaa_player_lname,trimws(player_name_split[[1]][2]))
}
}
ncaa_bat_copy$FirstName = ncaa_player_fname
ncaa_bat_copy$LastName = ncaa_team_lname
ncaa_bat_copy$FirstName = ncaa_player_fname
ncaa_bat_copy$LastName = ncaa_player_lname
ncaa_player_fname <- c()
ncaa_player_lname <- c()
ncaa_team_vec <- c()
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- strsplit(ncaa_bat_copy$Player[j],'[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
ncaa_team_vec <<- append(ncaa_team_vec,team)
if (grepl(",",player_pre_clean)==TRUE) {
print("LastFirst")
ncaa_player <- player_pre_clean
player_name_split <- strsplit(ncaa_player, ',')
ncaa_player_fname <<- append(ncaa_player_fname,trimws(player_name_split[[1]][2]))
ncaa_player_lname <<- append(ncaa_player_lname,trimws(player_name_split[[1]][1]))
}
else {
print("FirstLast")
ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
player_name_split <- strsplit(ncaa_player, ',')
ncaa_player_fname <<- append(ncaa_player_fname,trimsws(player_name_split[[1]][1]))
ncaa_player_lname <<- append(ncaa_player_lname,trimws(player_name_split[[1]][2]))
}
}
ncaa_player_fname <- c()
ncaa_player_lname <- c()
ncaa_team_vec <- c()
for (j in 1:nrow(ncaa_bat_copy)){
player_and_team <- strsplit(ncaa_bat_copy$Player[j],'[()]')
player_pre_clean <- player_and_team[[1]][1]
team <- player_and_team[[1]][2]
ncaa_team_vec <<- append(ncaa_team_vec,team)
if (grepl(",",player_pre_clean)==TRUE) {
print("LastFirst")
ncaa_player <- player_pre_clean
player_name_split <- strsplit(ncaa_player, ',')
ncaa_player_fname <<- append(ncaa_player_fname,trimws(player_name_split[[1]][2]))
ncaa_player_lname <<- append(ncaa_player_lname,trimws(player_name_split[[1]][1]))
}
else {
print("FirstLast")
ncaa_player <- str_replace_all(str_replace(player_pre_clean,"\\s+", ","),",,",",")
player_name_split <- strsplit(ncaa_player, ',')
ncaa_player_fname <<- append(ncaa_player_fname,trimws(player_name_split[[1]][1]))
ncaa_player_lname <<- append(ncaa_player_lname,trimws(player_name_split[[1]][2]))
}
}
ncaa_player_fname
ncaa_player_lname
#for (player in ncaa_bat_copy$Player) {
#  player_and_team <- strsplit(player, '[()]')
#  player_pre_clean <- player_and_team[[1]][1]
#  team <- player_and_team[[1]][2]
#  print(player)
#  ncaa_player <- str_replace_all(str_sub(str_replace(player_pre_clean,"\\s+", ","),end=-2),",,",",")
#ncaa_player <- str_sub(str_replace_all(str_replace_all(player_pre_clean," ",","),",,",","),end=-2)
#  ncaa_player_vec <<- append(ncaa_player_vec,ncaa_player)
#  ncaa_team_vec <<- append(ncaa_team_vec,team)
#}
#ncaa_player_vec
ncaa_bat_copy$FirstName = ncaa_player_fname
ncaa_bat_copy$LastName = ncaa_player_lname
ncaa_bat_copy$Team = ncaa_team_vec
